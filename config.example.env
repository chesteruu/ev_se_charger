# ==============================================================================
# EASEE Smart Charger Controller - Environment Configuration
# ==============================================================================
# Copy this file to config.env and fill in your credentials

# ------------------------------------------------------------------------------
# EASEE Charger Configuration
# ------------------------------------------------------------------------------
# Your EASEE account credentials (from the EASEE app)
EASEE_USERNAME=your_easee_email@example.com
EASEE_PASSWORD=your_easee_password

# Your charger ID (find it in the EASEE app or via API)
EASEE_CHARGER_ID=EHXXXXXX

# Maximum charging current in Amps (depends on your charger model)
EASEE_MAX_CURRENT=32

# ------------------------------------------------------------------------------
# MQTT Broker Configuration (for SaveEye)
# ------------------------------------------------------------------------------
# MQTT broker host (your local MQTT server)
MQTT_HOST=localhost

# MQTT broker port (1883 for plain, 8883 for TLS)
MQTT_PORT=1883

# MQTT authentication (leave empty if not required)
MQTT_USERNAME=
MQTT_PASSWORD=

# MQTT client ID
MQTT_CLIENT_ID=easee-controller

# Use TLS/SSL for MQTT connection
MQTT_USE_TLS=false

# ------------------------------------------------------------------------------
# SaveEye Configuration
# ------------------------------------------------------------------------------
# Connection mode: "mqtt" (recommended) or "http" (legacy)
SAVEEYE_MODE=mqtt

# MQTT Topic for SaveEye telemetry data
SAVEEYE_MQTT_TOPIC=saveeye/telemetry

# If SaveEye is unavailable:
# - false (default): Disable overload protection, charging continues without limits
# - true: Fail startup if SaveEye cannot be reached
SAVEEYE_REQUIRED=false

# HTTP settings (only used if SAVEEYE_MODE=http)
SAVEEYE_HOST=192.168.1.100
SAVEEYE_PORT=80
SAVEEYE_POLL_INTERVAL=5

# ------------------------------------------------------------------------------
# Home Electrical Configuration
# ------------------------------------------------------------------------------
# Main fuse rating in Amps (e.g., 25, 35, 50, 63)
HOME_MAIN_FUSE_AMPS=25

# Safety margin in Amps (how much below max to stay)
HOME_SAFETY_MARGIN_AMPS=3

# Number of phases (1 or 3)
HOME_PHASES=3

# Voltage per phase (usually 230V in Europe)
HOME_VOLTAGE=230

# ------------------------------------------------------------------------------
# Electricity Price Configuration
# ------------------------------------------------------------------------------
# Price data source: "tibber", "nordpool", or "entsoe"
PRICE_SOURCE=nordpool

# For Nord Pool: Your price area (e.g., NO1, SE3, DK1, FI)
NORDPOOL_AREA=NO1

# For Tibber: Your personal access token
TIBBER_ACCESS_TOKEN=your_tibber_token

# Currency for price display
PRICE_CURRENCY=NOK

# ------------------------------------------------------------------------------
# Smart Charging Configuration
# ------------------------------------------------------------------------------
# Enable/disable smart charging based on price
SMART_CHARGING_ENABLED=true

# Price threshold (only charge below this price in currency/kWh)
PRICE_THRESHOLD=1.5

# Hours to look ahead for price optimization
PRICE_LOOKAHEAD_HOURS=24

# Minimum SOC target (if supported by your car)
MIN_SOC_TARGET=80

# Preferred charging hours (comma-separated, 0-23)
PREFERRED_CHARGING_HOURS=0,1,2,3,4,5,6

# ------------------------------------------------------------------------------
# Web Dashboard Configuration
# ------------------------------------------------------------------------------
# Dashboard web server port
WEB_PORT=8080

# Dashboard host (0.0.0.0 for all interfaces)
WEB_HOST=0.0.0.0

# Enable authentication for dashboard
WEB_AUTH_ENABLED=false
WEB_AUTH_USERNAME=admin
WEB_AUTH_PASSWORD=changeme

# ------------------------------------------------------------------------------
# Logging Configuration
# ------------------------------------------------------------------------------
# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# Log file path (leave empty for console only)
LOG_FILE=/var/log/easee-controller/app.log

# ------------------------------------------------------------------------------
# Database Configuration
# ------------------------------------------------------------------------------
# SQLite database path for history and statistics
DATABASE_PATH=/var/lib/easee-controller/data.db
